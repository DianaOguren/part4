(this.webpackJsonppart1=this.webpackJsonppart1||[]).push([[0],{41:function(t,e,n){},42:function(t,e,n){"use strict";n.r(e);var c=n(17),u=n.n(c),o=n(8),a=n(3),i=n(2),l=n(0),r=function(t){var e=t.blogs,n=t.onDelete;return Object(l.jsx)("ul",{children:e.map((function(t){return Object(l.jsxs)("li",{children:[" TITLE: ",t.title,". AUTHOR: ",t.author,". URL: ",t.url,". LIKES: ",t.likes,". ",Object(l.jsx)("button",{onClick:function(){return n(t)},children:"Delete"})]},t.url)}))})},s=function(t){return Object(l.jsxs)("form",{onSubmit:t.onSubmit,children:[Object(l.jsxs)("div",{children:["Title: ",Object(l.jsx)("input",{value:t.valueTitle,onChange:t.onChangeTitle})]}),Object(l.jsxs)("div",{children:["Author: ",Object(l.jsx)("input",{value:t.valueAuthor,onChange:t.onChangeAuthor})]}),Object(l.jsxs)("div",{children:["URL: ",Object(l.jsx)("input",{value:t.valueUrl,onChange:t.onChangeUrl})]}),Object(l.jsxs)("div",{children:["Likes: ",Object(l.jsx)("input",{value:t.valueUnvotes,onChange:t.onChangeUnvotes})]}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{type:"submit",children:"add"})})]})},j=n(4),h=n.n(j),b="http://localhost:3003/api/blogs",d={getAll:function(){return h.a.get(b).then((function(t){return t.data}))},create:function(t){return h.a.post(b,t).then((function(t){return t.data}))},remove:function(t){return h.a.delete("".concat(b,"/").concat(t.id)).then((function(t){return t.status}))},update:function(t,e){return h.a.put("".concat(b,"/").concat(t),e).then((function(t){return t.data}))}},f=function(t){var e=t.message;return null===e?null:Object(l.jsx)("div",{className:"success",children:e})},O=function(t){var e=t.message;return null===e?null:Object(l.jsx)("div",{className:"error",children:e})},v=function(){var t=Object(i.useState)([]),e=Object(a.a)(t,2),n=e[0],c=e[1],u=Object(i.useState)(""),j=Object(a.a)(u,2),h=j[0],b=j[1],v=Object(i.useState)(""),g=Object(a.a)(v,2),m=g[0],p=g[1],x=Object(i.useState)(""),C=Object(a.a)(x,2),T=C[0],k=C[1],S=Object(i.useState)(""),U=Object(a.a)(S,2),A=U[0],w=U[1],L=Object(i.useState)(null),D=Object(a.a)(L,2),y=D[0],E=D[1],B=Object(i.useState)(null),I=Object(a.a)(B,2),N=I[0],R=I[1];Object(i.useEffect)((function(){d.getAll().then((function(t){c(t)}))}),[]);return Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Blogs"}),Object(l.jsx)(f,{message:y}),Object(l.jsx)(O,{message:N}),Object(l.jsx)(s,{onSubmit:function(t){t.preventDefault();var e={author:h,title:m,url:T,likes:A};if(n.some((function(t){return t.url===e.url}))){if(window.confirm("".concat(e.title," is already added to the list, replace the number of likes?"))){var u=n.find((function(t){return t.url===e.url})),a=Object(o.a)(Object(o.a)({},u),{},{author:e.author,title:e.title,likes:e.likes});d.update(a.id,a).then((function(t){c(n.map((function(e){return e.url!==t.url?e:t}))),E("Likes of '".concat(a.title,"' is updated")),setTimeout((function(){E(null)}),5e3),b(""),p(""),k(""),w("")}))}}else c(n.concat(e)),E("'".concat(e.title,"' is added to the list")),setTimeout((function(){E(null)}),5e3),b(""),p(""),k(""),w(""),d.create(e).then((function(t){c(n.concat(t))})).catch((function(t){E(null),R("".concat(t.response.data.error)),setTimeout((function(){R(null)}),5e3)}))},valueAuthor:h,onChangeAuthor:function(t){b(t.target.value)},valueTitle:m,onChangeTitle:function(t){p(t.target.value)},valueUrl:T,onChangeUrl:function(t){k(t.target.value)},valueUnvotes:A,onChangeUnvotes:function(t){w(t.target.value)}}),Object(l.jsx)("h2",{children:"Blogs List"}),Object(l.jsx)(r,{blogs:n,onDelete:function(t){d.remove(t).catch((function(e){R("Name' ".concat(t.title,"' was already deleted from phonebook")),setTimeout((function(){R(null)}),5e3),c(n.filter((function(e){return e.id!==t.id})))})).then((function(e){window.confirm("Delete ".concat(t.title,"?")),d.getAll().then((function(t){c(t)}))}))}})]})};n(41);u.a.render(Object(l.jsx)(v,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.5ad07339.chunk.js.map