{"version":3,"sources":["components/Blogs.js","components/BlogForm.js","services/blogs.js","components/SuccessNotification.js","components/ErrorNotification.js","App.js","index.js"],"names":["Blog","blogs","onDelete","map","blog","title","author","url","likes","onClick","BlogForm","props","onSubmit","value","valueTitle","onChange","onChangeTitle","valueAuthor","onChangeAuthor","valueUrl","onChangeUrl","valueUnvotes","onChangeUnvotes","type","baseUrl","exportedObject","getAll","axios","get","then","response","data","create","newObject","post","remove","delete","id","status","update","put","SuccessNotification","message","className","ErrorNotification","App","useState","setBlogs","newAuthor","setNewAuthor","newTitle","setNewTitle","newUrl","setNewUrl","newUnvotes","setNewUnvotes","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","blogService","initialBlogs","event","preventDefault","blogObject","some","window","confirm","existedblog","find","changedBlog","returnedBlog","setTimeout","concat","catch","error","target","filter","b","ReactDOM","render","document","getElementById"],"mappings":"4KAYeA,EAVF,SAAC,GAAuB,IAAtBC,EAAqB,EAArBA,MAAOC,EAAc,EAAdA,SACpB,OACE,6BACGD,EAAME,KAAI,SAAAC,GAAI,OACb,0CAA8BA,EAAKC,MAAnC,aAAoDD,EAAKE,OAAzD,UAAwEF,EAAKG,IAA7E,YAA2FH,EAAKI,MAAhG,KAAwG,wBAAQC,QAAS,kBAAMP,EAASE,IAAhC,sBAA7FA,EAAKG,WCwBTG,EA5BE,SAACC,GAChB,OACE,uBAAMC,SAAUD,EAAMC,SAAtB,UACI,0CACS,uBACPC,MAAOF,EAAMG,WACbC,SAAUJ,EAAMK,mBAClB,2CACU,uBACRH,MAAOF,EAAMM,YACbF,SAAUJ,EAAMO,oBAElB,wCACO,uBACLL,MAAOF,EAAMQ,SACbJ,SAAUJ,EAAMS,iBAClB,0CACS,uBACPP,MAAOF,EAAMU,aACbN,SAAUJ,EAAMW,qBAElB,8BACE,wBAAQC,KAAK,SAAb,uB,gBCtBJC,EAAU,kCA6BDC,EAPQ,CACrBC,OApBa,WAEX,OADgBC,IAAMC,IAAIJ,GACXK,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAmB3CC,OAhBa,SAAAC,GAEb,OADgBN,IAAMO,KAAKV,EAASS,GACrBJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAezCI,OAZa,SAAC/B,GAEd,OADgBuB,IAAMS,OAAN,UAAgBZ,EAAhB,YAA2BpB,EAAKiC,KACjCR,MAAK,SAAAC,GAAQ,OAAIA,EAASQ,WAWzCC,OARa,SAACF,EAAIJ,GAElB,OADgBN,IAAMa,IAAN,UAAahB,EAAb,YAAwBa,GAAMJ,GAC/BJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UCV5BU,EAZa,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAC3B,OAAgB,OAAZA,EACK,KAIP,qBAAKC,UAAU,UAAf,SACGD,KCKME,EAZW,SAAC,GAAiB,IAAfF,EAAc,EAAdA,QACzB,OAAgB,OAAZA,EACK,KAIP,qBAAKC,UAAU,QAAf,SACGD,KC2HMG,EA1HH,WACV,MAA0BC,mBAAS,IAAnC,mBAAO7C,EAAP,KAAc8C,EAAd,KACA,EAAkCD,mBAAS,IAA3C,mBAAOE,EAAP,KAAkBC,EAAlB,KACA,EAAgCH,mBAAS,IAAzC,mBAAOI,EAAP,KAAiBC,EAAjB,KACA,EAA4BL,mBAAS,IAArC,mBAAOM,EAAP,KAAeC,EAAf,KACA,EAAoCP,mBAAS,IAA7C,mBAAOQ,EAAP,KAAmBC,EAAnB,KACA,EAA4CT,mBAAS,MAArD,mBAAOU,EAAP,KAAuBC,EAAvB,KACA,EAAwCX,mBAAS,MAAjD,mBAAOY,EAAP,KAAqBC,EAArB,KAEAC,qBAAU,WACRC,EACGnC,SACAG,MAAK,SAAAiC,GACJf,EAASe,QAEZ,IA8FH,OACE,gCACE,uCACA,cAAC,EAAD,CAAqBpB,QAASc,IAC9B,cAAC,EAAD,CAAmBd,QAASgB,IAC5B,cAAC,EAAD,CAAU9C,SAjGE,SAACmD,GACfA,EAAMC,iBACN,IAAMC,EAAa,CACjB3D,OAAQ0C,EACR3C,MAAO6C,EACP3C,IAAK6C,EACL5C,MAAO8C,GAGT,GAAIrD,EAAMiE,MAAK,SAAA9D,GAAI,OAAIA,EAAKG,MAAQ0D,EAAW1D,QAC7C,GAAI4D,OAAOC,QAAP,UAAkBH,EAAW5D,MAA7B,gEAAiG,CACnG,IAAMgE,EAAcpE,EAAMqE,MAAK,SAAAlE,GAAI,OAAIA,EAAKG,MAAQ0D,EAAW1D,OACzDgE,EAAW,2BAAQF,GAAR,IAAqB/D,OAAQ2D,EAAW3D,OAAQD,MAAO4D,EAAW5D,MAAOG,MAAOyD,EAAWzD,QAC5GqD,EACGtB,OAAOgC,EAAYlC,GAAIkC,GACvB1C,MAAK,SAAA2C,GACJzB,EAAS9C,EAAME,KAAI,SAAAC,GAAI,OAAIA,EAAKG,MAAQiE,EAAajE,IAAMH,EAAOoE,MAElEf,EAAkB,aAAD,OAAcc,EAAYlE,MAA1B,iBACjBoE,YAAW,WACThB,EAAkB,QACjB,KACHR,EAAa,IACbE,EAAY,IACZE,EAAU,IACVE,EAAc,aAIpBR,EAAS9C,EAAMyE,OAAOT,IACtBR,EAAkB,IAAD,OAAKQ,EAAW5D,MAAhB,2BACjBoE,YAAW,WACXhB,EAAkB,QACb,KACLR,EAAa,IACbE,EAAY,IACZE,EAAU,IACVE,EAAc,IAEdM,EACC7B,OAAOiC,GACPpC,MAAK,SAAA2C,GACLzB,EAAS9C,EAAMyE,OAAOF,OAEtBG,OAAM,SAAAC,GACLnB,EAAkB,MAClBE,EAAgB,GAAD,OAAIiB,EAAM9C,SAASC,KAAK6C,QACnCH,YAAW,WACfd,EAAgB,QACT,SAgDoB1C,YAAa+B,EAAW9B,eA1C9B,SAAC6C,GAC1Bd,EAAac,EAAMc,OAAOhE,QAyCiEC,WAAYoC,EAAUlC,cAlCzF,SAAC+C,GACzBZ,EAAYY,EAAMc,OAAOhE,QAiC0HM,SAAUiC,EAAQhC,YAtC/I,SAAC2C,GACvBV,EAAUU,EAAMc,OAAOhE,QAqC4KQ,aAAciC,EAAYhC,gBA9BnM,SAACyC,GAC3BR,EAAcQ,EAAMc,OAAOhE,UA+BzB,4CACA,cAAC,EAAD,CAAMZ,MAASA,EAAOC,SA7BL,SAAAE,GACnByD,EACC1B,OAAO/B,GACPuE,OAAM,SAAAC,GACLjB,EAAgB,SAAD,OAAUvD,EAAKC,MAAf,yCACToE,YAAW,WACTd,EAAgB,QACf,KACTZ,EAAS9C,EAAM6E,QAAO,SAAAC,GAAC,OAAIA,EAAE1C,KAAOjC,EAAKiC,UAE1CR,MAAK,SAAAC,GACJqC,OAAOC,QAAP,iBAAyBhE,EAAKC,MAA9B,MACAwD,EACCnC,SACAG,MAAK,SAAAiC,GACJf,EAASe,gB,MC3GjBkB,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.5ad07339.chunk.js","sourcesContent":["import React from 'react'\n\nconst Blog = ({blogs, onDelete}) => {\n  return (\n    <ul>\n      {blogs.map(blog => \n        <li key = {blog.url}> TITLE: {blog.title}. AUTHOR: {blog.author}. URL: {blog.url}. LIKES: {blog.likes}. <button onClick={() => onDelete(blog)}>Delete</button></li>\n      )}\n    </ul>\n  )\n}\n\nexport default Blog","import React from 'react'\n\nconst BlogForm = (props) => {\n  return (\n    <form onSubmit={props.onSubmit}>\n        <div>\n          Title: <input \n          value={props.valueTitle}\n          onChange={props.onChangeTitle}/></div>\n        <div>\n          Author: <input \n          value={props.valueAuthor}\n          onChange={props.onChangeAuthor}/>\n        </div>\n        <div>\n          URL: <input \n          value={props.valueUrl}\n          onChange={props.onChangeUrl}/></div>\n        <div>\n          Likes: <input \n          value={props.valueUnvotes}\n          onChange={props.onChangeUnvotes}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n  )\n}\n\nexport default BlogForm\n\n\n","import axios from 'axios'\n\nconst baseUrl = 'http://localhost:3003/api/blogs';\n\n\nconst getAll = () => {\n    const request = axios.get(baseUrl);\n    return request.then(response => response.data);\n};\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then(response => response.data);\n};\n\nconst remove = (blog) => {\n  const request = axios.delete(`${baseUrl}/${blog.id}`);\n  return request.then(response => response.status);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then(response => response.data);\n} \nconst exportedObject = {\n  getAll,\n  create,\n  remove,\n  update \n}\n\nexport default exportedObject;","const SuccessNotification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className='success'>\n        {message}\n      </div>\n    )\n  }\n\nexport default SuccessNotification;","const ErrorNotification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className='error'>\n        {message}\n      </div>\n    )\n  }\n\nexport default ErrorNotification;","import React, { useState, useEffect } from 'react'\nimport Blog from './components/Blogs'\nimport BlogForm from './components/BlogForm'\nimport blogService from './services/blogs'\nimport SuccessNotification from './components/SuccessNotification'\nimport ErrorNotification from './components/ErrorNotification'\n\n\nconst App = () => {\n  const [blogs, setBlogs] = useState([])\n  const [newAuthor, setNewAuthor] = useState('')\n  const [newTitle, setNewTitle] = useState('')\n  const [newUrl, setNewUrl] = useState('')\n  const [newUnvotes, setNewUnvotes] = useState('')\n  const [successMessage, setSuccessMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    blogService\n      .getAll()\n      .then(initialBlogs => {\n        setBlogs(initialBlogs)\n      })\n  }, [])\n\n  const addBlog = (event) => {\n    event.preventDefault()\n    const blogObject = {\n      author: newAuthor,\n      title: newTitle,\n      url: newUrl,\n      likes: newUnvotes,\n    }\n\n    if (blogs.some(blog => blog.url === blogObject.url)){\n      if (window.confirm(`${blogObject.title} is already added to the list, replace the number of likes?`)){\n        const existedblog = blogs.find(blog => blog.url === blogObject.url)\n        const changedBlog = { ...existedblog, author: blogObject.author, title: blogObject.title, likes: blogObject.likes }\n        blogService\n          .update(changedBlog.id, changedBlog)\n          .then(returnedBlog => {\n            setBlogs(blogs.map(blog => blog.url !== returnedBlog.url ? blog : returnedBlog)\n            )\n            setSuccessMessage(`Likes of '${changedBlog.title}' is updated`)\n            setTimeout(() => {\n              setSuccessMessage(null)\n            }, 5000)\n            setNewAuthor('')\n            setNewTitle('')\n            setNewUrl('')\n            setNewUnvotes('')\n          })\n      }\n    } else {\n      setBlogs(blogs.concat(blogObject))\n      setSuccessMessage(`'${blogObject.title}' is added to the list`)\n      setTimeout(() => {\n      setSuccessMessage(null)\n        }, 5000)\n      setNewAuthor('')\n      setNewTitle('')\n      setNewUrl('')\n      setNewUnvotes('')\n\n      blogService\n      .create(blogObject)\n      .then(returnedBlog => {\n       setBlogs(blogs.concat(returnedBlog))\n      })\n      .catch(error => {\n        setSuccessMessage(null)\n        setErrorMessage(`${error.response.data.error}`)\n            setTimeout(() => {\n        setErrorMessage(null)\n            }, 5000)\n      // setBlogs(blogs.filter(n => n. !== blogObject.name))\n      })\n    }\n  };\n\n  const handleAuthorChange = (event) => {\n    setNewAuthor(event.target.value);\n  };\n\n  const handleUrlChange = (event) => {\n    setNewUrl(event.target.value);\n  };\n  \n  const handleTitleChange = (event) => {\n    setNewTitle(event.target.value);\n  };\n\n  const handleUnvotesChange = (event) => {\n    setNewUnvotes(event.target.value);\n  };\n\n  const handleDelete = blog => {\n    blogService\n    .remove(blog)\n    .catch(error => {\n      setErrorMessage(`Name' ${blog.title}' was already deleted from phonebook`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n      setBlogs(blogs.filter(b => b.id !== blog.id))\n      })\n    .then(response => {\n      window.confirm(`Delete ${blog.title}?`);\n      blogService\n      .getAll()\n      .then(initialBlogs => {\n        setBlogs(initialBlogs)\n      })\n    });\n    \n  }  \n\n  return (\n    <div>\n      <h2>Blogs</h2>\n      <SuccessNotification message={successMessage}/>\n      <ErrorNotification message={errorMessage}/>\n      <BlogForm onSubmit={addBlog} valueAuthor={newAuthor} onChangeAuthor={handleAuthorChange} valueTitle={newTitle} onChangeTitle={handleTitleChange} valueUrl={newUrl} onChangeUrl={handleUrlChange} valueUnvotes={newUnvotes} onChangeUnvotes={handleUnvotesChange}/> \n\n      <h2>Blogs List</h2>\n      <Blog blogs = {blogs} onDelete ={handleDelete}/>\n    </div>\n  )\n}\n\nexport default App;","import ReactDOM from 'react-dom'\nimport App from './App.js'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}